<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seeking resonance over distance</title>
    <link rel="stylesheet" href="https://unpkg.com/tachyons@4.12.0/css/tachyons.min.css"/>
    <style>
        /*
            Variables
        */
        :root {
            --menu-scale: 100;
        }
        /*
            main
        */
        ul {
            max-width: 450px;
        }
        img {
            max-width: 100%;
        }
        /*
            Menu
        */
        .no-scroll {
            /* overflow: hidden; */
        }
        #about {
            pointer-events: none;
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
        }
        #about-bg {
            z-index: 0;
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: #d63d44;
            border-radius: 50%;
            height: 20px;
            width: 20px;
            transform-origin: center;
            transform: scale(1);
            transition: transform .3s ease-out;
        }
        #about-toggle {
            pointer-events: auto;
            cursor: pointer;
            z-index: 3;
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: #fff;
            border-radius: 50%;
            height: 20px;
            width: 20px;
            opacity: 0;
            transform-origin: center;
            transition: opacity .3s ease-out;
        }
        #about-toggle:focus {
            outline: none;
        }
        .keyboard #about-toggle:focus {
            /* background-color: rgba(0,0,0,0); */
            opacity: 1;
            border: 1px dashed #000;
            animation: spin 3s linear infinite;
        }

        @keyframes spin {
            from { 
                transform: rotate(0);
            }
            to {
                transform: rotate(360deg);
            }
        }

        #about-content {
            color: #fff;
            pointer-events: none;
            z-index: 2;
            position: absolute;
            left: 50%;
            height: 100%;
            width: 100%;
            transform: translate(-50%,0);
            opacity: 0;
            transition: opacity .1s;
            font-family: Arial, Helvetica, sans-serif;
            font-size: 1.3em;
            line-height: 1.5;
            overflow: auto;
        }

        #about-content > .wrapper {
            max-width: 500px;
            padding: 2em;
            margin: 0 auto;
        }

        .open #about-content {
            pointer-events: auto;
            opacity: 1;
            transition: opacity .3s .3s;
        }
        .open #about-toggle {
            opacity: 1;
        }
        #about.open {
        }
        .open #about-bg {
            transform: scale(var(--menu-scale));
        }
    </style>
</head>
<body>
    <ul class="list center pa0 mt0">
        <li><img src="pages/01.jpg" alt=""></li>
        <li><img src="pages/02.jpg" alt=""></li>
        <li><img src="pages/03.jpg" alt=""></li>
        <li><img src="pages/04.jpg" alt=""></li>
        <li><img src="pages/05.jpg" alt=""></li>
        <li><img src="pages/06.jpg" alt=""></li>
        <li><img src="pages/07.jpg" alt=""></li>
        <li><img src="pages/08.jpg" alt=""></li>
    </ul>
    <article id="about" class="absolute">
        <div id="about-bg"  class="absolute bg-red br-50"></div>
        <div id="about-content">
            <div class="wrapper">
                <p>
                    <em>Seeking Resonance Over Distance</em> is an idea I couldn't get out of my head, and a felt tip pen homage to imagination, bright colours and televised media.
                </p>
                <p>
                    Why do the teletubb*es have screens in their bellies? <br> From where do they receive the transmissions? <br> Who curates it? <br>To what end?<br> 
                </p>
                <p>
                    Important questions. 
                </p>
                <label for="references">The media snippets featured are, in order of appearance:</label>
                <ul id="references">
                    <li>1 - The final words of Ways of Seeing, episode 1,</li>
                    <li>2 - The Argentinian commentary on the famous 1986 "Hand of God" goal scored by Maradona against England</li>
                </ul>    
            </div>
        </div>
        <div id="about-toggle" tabindex="1" class="absolute bg-red br-50"></div>
    </article>

    <script>
        function debounce(func, timeout = 300){
            let timer;
            return (...args) => {
                clearTimeout(timer);
                timer = setTimeout(() => { func.apply(this, args); }, timeout);
            };
        }
    
        function setupMenuAnimations(){
            const aboutBg = document.querySelector("#about-bg");
            const style = document.createElement("style");
            function biggest (w,h) {
                return w > h ? w : h;
            }
            function setVariable (style) {
                let w = window.innerWidth;
                let h = window.innerHeight;
                style.innerHTML = `
                :root { 
                    --menu-scale: ${3 * (biggest(w,h) / aboutBg.clientWidth)}
                }`;
            }
            const resizeReset = debounce(() => setVariable(style));
            window.addEventListener("resize", resizeReset)
            setVariable(style);
            document.head.appendChild(style);
        }

        function setupInteractions() {
            const toggle = document.querySelector("#about-toggle")
            toggle.addEventListener("click", function () {
                toggleAbout();
            })
            toggle.addEventListener("keydown", function (e) {
                if (e.keyCode == 13) {
                    toggleAbout();
                }
            })
            window.addEventListener("keydown", () => {
                document.body.classList.add("keyboard");
            });
            window.addEventListener("mousemove", () => {
                document.body.classList.remove("keyboard");
            })
        }

        function toggleAbout(){
            const about = document.querySelector("#about");
            about.classList.toggle("open")
            document.body.classList.toggle("no-scroll")
        }

        setupInteractions();
        setupMenuAnimations();
    </script>
</body>
</html>